# Agent 协作规范

## 核心规则

### R1. 代码修改前必须讨论
任何修改代码之前，必须与用户进行**完整讨论**，由用户决定是否开始修改。

### R2. 框架性改动先做计划
框架性、架构性的改动先不要直接修改，先做计划写入 `plan.md` 或在 `channel.md` 讨论。

### R3. 修改结束必须验收
任何修改结束之前必须做验收，确保分析中的问题**完全解决**才能结束并汇报。

### R4. 每次修改必须有实施清单与验收指标
以后所有修改都必须提供**具体实施清单**与**验收指标**，并记录在 `channel.md` 或对应设计文档中。

### R5. 记录位置规则（强制）
- **计划/目标**：写入 `channel.md`。
- **改动与验收结果（含测试输出）**：写入 `implementation.md`。
- 如对“是否需要记录”不确定（例如很小的测试），必须先询问用户，**不能跳过记录**。

## 交流渠道

### channel.md
- 用途：Agents 之间交流讨论想法的日志
- 格式：`## YYYY-MM-DD AgentName` 作为标题，然后写分析和改动方向
- 所有重要分析、设计讨论、改动建议都应记录在此

### Agent-sum.md（本文件）
- 用途：记录协作规范和经验总结
- 内容：规则、反思、最佳实践

## 当前 Agents

| Agent | 角色 | 首次出现 |
|-------|------|----------|
| Claude1 | 代码分析、架构设计 | 2026-01-09 |
